{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Material Design for Bootstrap</title>
  <!-- MDB icon -->
  <link rel="icon" href="{% static 'img/mdb-favicon.ico' %}" type="image/x-icon">
  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.11.2/css/all.css">
  <!-- Google Fonts Roboto -->
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap">
  <!-- Bootstrap core CSS -->
  <link rel="stylesheet" href="{% static 'css/bootstrap.min.css' %}">
  <!-- Material Design Bootstrap -->
  <link rel="stylesheet" href="{% static 'css/mdb.min.css' %}">
  <!-- Your custom styles (optional) -->
  <link rel="stylesheet" href="{% static 'css/style.css' %}">

  <!-- MDBootstrap Datatables  -->
<link href="{% static 'css/addons/datatables.min.css' %}" rel="stylesheet">

<style>

#myInput {
  background-image: url('/css/searchicon.png'); /* Add a search icon to input */
  background-position: 10px 12px; /* Position the search icon */
  background-repeat: no-repeat; /* Do not repeat the icon image */
  width: 100%; /* Full-width */
  font-size: 16px; /* Increase font-size */
  padding: 12px 20px 12px 40px; /* Add some padding */
  border: 1px solid #ddd; /* Add a grey border */
  margin-bottom: 12px; /* Add some space below the input */
}

#myTable {
  border-collapse: collapse; /* Collapse borders */
  width: 100%; /* Full-width */
  border: 1px solid #ddd; /* Add a grey border */
  font-size: 18px; /* Increase font-size */
}

#myTable th, #myTable td {
  text-align: left; /* Left-align text */
  padding: 12px; /* Add padding */
}

#myTable tr {
  /* Add a bottom border to all table rows */
  border-bottom: 1px solid #ddd;
}

#myTable tr.header, #myTable tr:hover {
  /* Add a grey background color to the table header and on hover */
  background-color: #f1f1f1;
}

table.dataTable thead .sorting:after,
table.dataTable thead .sorting:before,
table.dataTable thead .sorting_asc:after,
table.dataTable thead .sorting_asc:before,
table.dataTable thead .sorting_asc_disabled:after,
table.dataTable thead .sorting_asc_disabled:before,
table.dataTable thead .sorting_desc:after,
table.dataTable thead .sorting_desc:before,
table.dataTable thead .sorting_desc_disabled:after,
table.dataTable thead .sorting_desc_disabled:before {
  bottom: .5em;
}
</style>


</head>
<body>

    <input type="text" id="myInput" onkeyup="myFunction()" placeholder="Search by country..">

	<table id="myTable" class="table table-striped table-bordered table-sm" cellspacing="0" width="100%">
		<thead>
		  <tr>
			<th class="th-sm">Country
			</th>
			<th class="th-sm">Total Cases
			</th>
			<th class="th-sm">New Cases
			</th>
			<th class="th-sm" style="background-color: red; color: white;">Total Deaths
			</th>
			<th class="th-sm">New Deaths
			</th>
			<th class="th-sm">Total Recovered
			</th>
			<th class="th-sm">Active Cases
			</th>
			<th class="th-sm">Serious, Critical
			</th>
		  </tr>
		</thead>
		{% for item in country %}
		<tbody>
			<tr>
				{% for key, value in item.items %}
					{% if key == 'Country' %}
						<td><b><a href="">{{ value }}</a></b></td>
					{% endif %}
					{% if key == 'Total Cases' %}
						<td>{{ value }}</td>
					{% endif %}
					{% if key == 'New Cases' %}
						<td>{{ value }}</td>
					{% endif %}
					{% if key == 'Total Deaths' %}
						<td style="background-color: red; color: white;">{{ value }}</td>
					{% endif %}
					{% if key == 'New Deaths' %}
						<td>{{ value }}</td>
					{% endif %}
					{% if key == 'Total Recovered' %}
						<td>{{ value }}</td>
					{% endif %}
					{% if key == 'Active Cases' %}
						<td>{{ value }}</td>
					{% endif %}
					{% if key == 'Serious, Critical' %}
						<td>{{ value }}</td>
					{% endif %}
					<!-- {% if key == 'Tot Cases/ 1M pop' %}
						<td class="column100 column1" data-column="column1">{{ value }}</td>
					{% endif %} -->
				{% endfor %}
			</tr>
		</tbody>
		{% endfor %}
		<tfoot>
		  <tr>
			<th>Total
			</th>
			<th>{{ total_cases }}
			</th>
			<th>{{ total_new_cases }}
			</th>
			<th style="background-color: red; color: white;">{{ total_deaths }}
			</th>
			<th>{{ total_new_deaths }}
			</th>
			<th>{{ total_recovered }}
			</th>
			<th>{{ total_active_cases }}
			</th>
			<th>{{ total_critical }}
			</th>
		  </tr>
		</tfoot>
	  </table>
	  
  <!-- Start your project here-->  
  <div style="height: 100vh">
    <div class="flex-center flex-column">
      <h1 class="text-hide animated fadeIn mb-4" style="background-image: url('https://mdbootstrap.com/img/logo/mdb-transparent-250px.png'); width: 250px; height: 90px;">MDBootstrap</h1>
      <h5 class="animated fadeIn mb-3">Thank you for using our product. We're glad you're with us.</h5>
      <p class="animated fadeIn text-muted">MDB Team</p>
    </div>
  </div>
  <!-- End your project here-->

  <!-- jQuery -->
  <script type="text/javascript" src="{% static 'js/jquery.min.js' %}"></script>
  <!-- Bootstrap tooltips -->
  <script type="text/javascript" src="{% static 'js/popper.min.js' %}"></script>
  <!-- Bootstrap core JavaScript -->
  <script type="text/javascript" src="{% static 'js/bootstrap.min.js' %}"></script>
  <!-- MDB core JavaScript -->
  <script type="text/javascript" src="{% static 'js/mdb.min.js' %}"></script>
  <!-- Your custom scripts (optional) -->
  <script type="text/javascript"></script>

  <!-- MDBootstrap Datatables  -->
<script type="text/javascript" src="{% static 'js/addons/datatables.min.js' %}"></script>


<script>
	$(document).ready(function () {
$('#dtBasicExample').DataTable();
$('.dataTables_length').addClass('bs-select');
});
</script>

<script>
    function myFunction() {
      // Declare variables
      var input, filter, table, tr, td, i, txtValue;
      input = document.getElementById("myInput");
      filter = input.value.toUpperCase();
      table = document.getElementById("myTable");
      tr = table.getElementsByTagName("tr");
    
      // Loop through all table rows, and hide those who don't match the search query
      for (i = 0; i < tr.length; i++) {
        td = tr[i].getElementsByTagName("td")[0];
        if (td) {
          txtValue = td.textContent || td.innerText;
          if (txtValue.toUpperCase().indexOf(filter) > -1) {
            tr[i].style.display = "";
          } else {
            tr[i].style.display = "none";
          }
        }
      }
    }
</script>

</body>
</html>
